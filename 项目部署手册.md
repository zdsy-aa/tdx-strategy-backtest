# 股票策略回测与分析系统 - 项目部署手册

**版本**: 7.0.0
**更新日期**: 2026-01-29
**作者**: Manus AI

---

## 1. 部署环境要求

本系统采用 **Python** (后端计算) 和 **Node.js** (前端展示) 环境。由于引入了统一化引擎和机器学习预测，建议配置如下：

### 1.1. 硬件配置建议

| 组件 | 最低配置 | 推荐配置 | 备注 |
| :--- | :--- | :--- | :--- |
| **CPU** | 2 核 | 8 核以上 | 统一回测和分析引擎支持多进程并行，核心越多速度越快。 |
| **内存 (RAM)** | 4 GB | 16 GB | 机器学习模型训练和全量数据处理需要较大内存。 |
| **存储 (Disk)** | 10 GB | 50 GB SSD | 存储 A 股全量历史日线数据及回测生成的 JSON 报告。 |

### 1.2. 软件依赖

| 软件 | 推荐版本 | 用途 |
| :--- | :--- | :--- |
| **Python** | 3.10+ | 核心计算、数据处理、机器学习 |
| **Node.js** | 18.0+ | 前端 React 应用运行 |
| **pnpm** | 最新版 | 前端包管理工具 (推荐) |
| **Git** | 最新版 | 代码版本管理 |

---

## 2. 快速部署步骤

### 步骤 2.1: 获取代码
```bash
git clone https://github.com/zdsy-aa/tdx-strategy-backtest.git
cd tdx-strategy-backtest
git checkout develop
```

### 步骤 2.2: 后端环境配置
```bash
# 创建并激活虚拟环境
python3 -m venv venv
source venv/bin/activate  # Windows 使用 .\venv\Scripts\activate

# 安装依赖
pip install --upgrade pip
pip install -r requirements.txt
```

### 步骤 2.3: 前端环境配置
```bash
cd web
pnpm install
# 启动开发环境
pnpm dev
```

---

## 3. 初始化数据

首次部署后，需要运行全量更新脚本以生成初始数据：

```bash
cd py_file
python3 a0_auto_update_daily.py --full
```

---

## 4. 常见问题 (FAQ)

1. **Python 依赖安装失败**: 
   - 确保已安装 C++ 编译环境（Windows 需要 Visual Studio Build Tools）。
   - 检查 `pandas`, `numpy`, `scikit-learn` 等库的版本兼容性。
2. **数据抓取速度慢**: 
   - `a1_data_fetcher_mootdx.py` 依赖网络环境，请确保网络畅通。
   - 首次全量下载可能需要较长时间（约 30-60 分钟）。
3. **前端页面无数据**: 
   - 检查 `web/client/src/data/` 目录下是否已生成 `.json` 文件。
   - 确保已成功运行 `a0_auto_update_daily.py`。

---

**文档结束**
