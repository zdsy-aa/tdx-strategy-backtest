# Python è„šæœ¬ç›®å½• (py_file/)

> åŒ…å«æ‰€æœ‰æŒ‡æ ‡è®¡ç®—ã€å›æµ‹éªŒè¯å’Œæ•°æ®å¤„ç†çš„ Python è„šæœ¬ã€‚

## ğŸ“ ç›®å½•ç»“æ„

```
py_file/
â”œâ”€â”€ README.md                      # æœ¬è¯´æ˜æ–‡ä»¶
â”œâ”€â”€ indicators.py                  # æ ¸å¿ƒæŒ‡æ ‡è®¡ç®—æ¨¡å—
â”œâ”€â”€ data_fetcher.py                # æ•°æ®ä¸‹è½½æ¨¡å—
â”œâ”€â”€ scheduled_data_update.py       # å®šæ—¶æ›´æ–°è„šæœ¬
â”‚
â”œâ”€â”€ 101_six_veins_test.py          # å…­è„‰ç¥å‰‘å•æŒ‡æ ‡æµ‹è¯•
â”œâ”€â”€ 102_buy_sell_points_test.py    # ä¹°å–ç‚¹å•æŒ‡æ ‡æµ‹è¯•
â”œâ”€â”€ 103_chan_lun_test.py           # ç¼ è®ºä¹°ç‚¹æµ‹è¯•ï¼ˆå¾…å®ç°ï¼‰
â”œâ”€â”€ 104_money_tree_test.py         # æ‘‡é’±æ ‘æŒ‡æ ‡æµ‹è¯•ï¼ˆå¾…å®ç°ï¼‰
â”‚
â”œâ”€â”€ 201_steady_combo_test.py       # ç¨³å¥ç»„åˆæµ‹è¯•
â”œâ”€â”€ 202_aggressive_combo_test.py   # æ¿€è¿›ç»„åˆæµ‹è¯•
â””â”€â”€ 203_resonance_combo_test.py    # å…±æŒ¯ç»„åˆæµ‹è¯•ï¼ˆå¾…å®ç°ï¼‰
```

## ğŸ”¢ è„šæœ¬ç¼–å·è§„åˆ™

### å•æŒ‡æ ‡æµ‹è¯•ï¼ˆ101-199ï¼‰

| ç¼–å· | è„šæœ¬åç§° | æµ‹è¯•å†…å®¹ | çŠ¶æ€ |
|------|---------|---------|------|
| **101** | `101_six_veins_test.py` | å…­è„‰ç¥å‰‘æŒ‡æ ‡æµ‹è¯• | âœ… å·²å®Œæˆ |
| **102** | `102_buy_sell_points_test.py` | ä¹°å–ç‚¹æŒ‡æ ‡æµ‹è¯• | âœ… å·²å®Œæˆ |
| 103 | `103_chan_lun_test.py` | ç¼ è®ºä¹°ç‚¹æµ‹è¯• | ğŸ”„ å¾…å®ç° |
| 104 | `104_money_tree_test.py` | æ‘‡é’±æ ‘æŒ‡æ ‡æµ‹è¯• | ğŸ”„ å¾…å®ç° |

### ç»„åˆæŒ‡æ ‡æµ‹è¯•ï¼ˆ201-299ï¼‰

| ç¼–å· | è„šæœ¬åç§° | æµ‹è¯•å†…å®¹ | çŠ¶æ€ |
|------|---------|---------|------|
| **201** | `201_steady_combo_test.py` | ç¨³å¥ç»„åˆæµ‹è¯• | âœ… å·²å®Œæˆ |
| **202** | `202_aggressive_combo_test.py` | æ¿€è¿›ç»„åˆæµ‹è¯• | âœ… å·²å®Œæˆ |
| 203 | `203_resonance_combo_test.py` | å…±æŒ¯ç»„åˆæµ‹è¯• | ğŸ”„ å¾…å®ç° |

## ğŸ“ æ ¸å¿ƒæ¨¡å—è¯´æ˜

### indicators.py - æ ¸å¿ƒæŒ‡æ ‡è®¡ç®—æ¨¡å—

åŒ…å«æ‰€æœ‰æŠ€æœ¯æŒ‡æ ‡çš„è®¡ç®—å‡½æ•°ï¼Œä¸¥æ ¼æŒ‰ç…§é€šè¾¾ä¿¡åŸå§‹å…¬å¼å®ç°ï¼š

```python
# ä¸»è¦å‡½æ•°
calculate_six_veins(df)      # è®¡ç®—å…­è„‰ç¥å‰‘ï¼ˆMACD/KDJ/RSI/LWR/BBI/MTMï¼‰
calculate_buy_sell_points(df) # è®¡ç®—ä¹°å–ç‚¹ï¼ˆåº„å®¶çº¿/æ•£æˆ·çº¿ï¼‰
calculate_chan_lun(df)        # è®¡ç®—ç¼ è®ºä¹°ç‚¹
calculate_money_tree(df)      # è®¡ç®—æ‘‡é’±æ ‘ä¿¡å·
calculate_all_signals(df)     # è®¡ç®—æ‰€æœ‰ä¿¡å·
```

### data_fetcher.py - æ•°æ®ä¸‹è½½æ¨¡å—

æ”¯æŒä» AKShare ä¸‹è½½ A è‚¡å†å²æ•°æ®ï¼š

```python
# ä¸»è¦å‡½æ•°
fetch_index_data(symbol, start_date, end_date)  # ä¸‹è½½æŒ‡æ•°æ•°æ®
fetch_stock_data(symbol, start_date, end_date)  # ä¸‹è½½ä¸ªè‚¡æ•°æ®
save_to_csv(df, filename)                        # ä¿å­˜åˆ° CSV
```

### scheduled_data_update.py - å®šæ—¶æ›´æ–°è„šæœ¬

é…åˆ crontab å®ç°æ¯æ—¥è‡ªåŠ¨æ›´æ–°ï¼š

```bash
# è®¾ç½®å®šæ—¶ä»»åŠ¡ï¼ˆæ¯ä¸ªäº¤æ˜“æ—¥ 15:30 æ‰§è¡Œï¼‰
30 15 * * 1-5 cd /path/to/py_file && python scheduled_data_update.py
```

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### 1. å®‰è£…ä¾èµ–
```bash
pip install pandas numpy akshare matplotlib
```

### 2. ä¸‹è½½æ•°æ®
```bash
python data_fetcher.py
```

### 3. è¿è¡Œå•æŒ‡æ ‡æµ‹è¯•
```bash
# å…­è„‰ç¥å‰‘æµ‹è¯•
python 101_six_veins_test.py

# ä¹°å–ç‚¹æµ‹è¯•
python 102_buy_sell_points_test.py
```

### 4. è¿è¡Œç»„åˆæµ‹è¯•
```bash
# ç¨³å¥ç»„åˆæµ‹è¯•
python 201_steady_combo_test.py

# æ¿€è¿›ç»„åˆæµ‹è¯•
python 202_aggressive_combo_test.py
```

## ğŸ“Š è¾“å‡ºç»“æœ

æ‰€æœ‰æµ‹è¯•è„šæœ¬ä¼šåœ¨ `/report/` ç›®å½•ä¸‹ç”Ÿæˆå¯¹åº”çš„æŠ¥å‘Šï¼š

```
report/
â”œâ”€â”€ summary/
â”‚   â”œâ”€â”€ six_veins_summary.md
â”‚   â””â”€â”€ combo_summary.md
â”œâ”€â”€ yearly/
â”‚   â”œâ”€â”€ 2024_report.md
â”‚   â””â”€â”€ 2023_report.md
â””â”€â”€ monthly/
    â”œâ”€â”€ 2024_12_report.md
    â””â”€â”€ ...
```

## âš™ï¸ é…ç½®è¯´æ˜

### å›æµ‹å‚æ•°
```python
# åœ¨å„æµ‹è¯•è„šæœ¬ä¸­å¯é…ç½®
HOLD_PERIODS = [1, 2, 3, 5, 10, 15, 20, 30]  # æŒæœ‰å‘¨æœŸï¼ˆå¤©ï¼‰
SIGNAL_OFFSET = 5                             # ä¿¡å·åç§»å€¼ï¼ˆå¤©ï¼‰
START_DATE = "2016-01-01"                     # å›æµ‹èµ·å§‹æ—¥æœŸ
END_DATE = "2026-01-01"                       # å›æµ‹ç»“æŸæ—¥æœŸ
```

### æŒ‡æ ‡å‚æ•°
```python
# åœ¨ indicators.py ä¸­å¯é…ç½®
MACD_FAST = 12
MACD_SLOW = 26
MACD_SIGNAL = 9
KDJ_N = 9
RSI_N = 6
# ...
```

## ğŸ”§ æ‰©å±•æŒ‡å—

### æ·»åŠ æ–°çš„å•æŒ‡æ ‡æµ‹è¯•
1. åˆ›å»º `10X_new_indicator_test.py`ï¼ˆX ä¸ºä¸‹ä¸€ä¸ªå¯ç”¨ç¼–å·ï¼‰
2. å¯¼å…¥ `indicators.py` ä¸­çš„è®¡ç®—å‡½æ•°
3. å®ç°å›æµ‹é€»è¾‘
4. æ›´æ–°æœ¬ README.md çš„è„šæœ¬åˆ—è¡¨

### æ·»åŠ æ–°çš„ç»„åˆæµ‹è¯•
1. åˆ›å»º `20X_new_combo_test.py`ï¼ˆX ä¸ºä¸‹ä¸€ä¸ªå¯ç”¨ç¼–å·ï¼‰
2. å®šä¹‰ä¿¡å·ç»„åˆè§„åˆ™
3. å®ç°åç§»å€¼é€»è¾‘ï¼ˆ5å¤©å†…ä¿¡å·å…±æŒ¯ï¼‰
4. æ›´æ–°æœ¬ README.md çš„è„šæœ¬åˆ—è¡¨

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **æ•°æ®ä¾èµ–**ï¼šè¿è¡Œæµ‹è¯•å‰è¯·ç¡®ä¿ `data/day/` ç›®å½•ä¸‹æœ‰æ•°æ®
2. **Python ç‰ˆæœ¬**ï¼šå»ºè®®ä½¿ç”¨ Python 3.8+
3. **å†…å­˜å ç”¨**ï¼š10 å¹´æ•°æ®å›æµ‹çº¦éœ€ 2-4GB å†…å­˜
4. **æ‰§è¡Œæ—¶é—´**ï¼šå®Œæ•´å›æµ‹çº¦éœ€ 5-10 åˆ†é’Ÿ
